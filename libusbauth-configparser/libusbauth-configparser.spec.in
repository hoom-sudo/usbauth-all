# Copyright (c) 2015 SUSE LLC. All Rights Reserved.
# Author: Stefan Koch <skoch@suse.de>
#
# Copyright (c) 2017 Stefan Koch <stefan.koch10@gmail.com>
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of version 2.1 of the GNU Lesser General
# Public License as published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this program; if not, contact SUSE LLC.
#
# To contact SUSE about this file by physical or electronic mail,
# you may find current contact information at www.suse.com

Name: @PACKAGE@
Version: @VERSION@
Release: 1
Group: System/Libraries
License: LGPL-2.1
Summary: Library for USB Firewall including flex/bison parser
Url: https://build.opensuse.org/package/show/home:skoch_suse/libusbauth_configparser

BuildRoot: %{tmppath}/%{name}-build
Source0: %{name}.tar.bz2

BuildRequires: libtool
BuildRequires: libudev-devel
BuildRequires: bison
BuildRequires: flex

%description
Library to read usbauth config file into data structures

%package -n %{name}1
Group: System/Libraries
License: LGPL-2.1
Summary: Library for USB Firewall including flex/bison parser

%package devel
Group: Development/Libraries
License: LGPL-2.1
Summary: Development part of library for USB Firewall including flex/bison parser
Requires: libusbauth-configparser1 = %{version}

%description -n %{name}1
Library to read usbauth config file into data structures

%description devel
Development part of library to read usbauth config file into data structures

%prep
%setup -n %{name}

%build
autoreconf -f -i
%configure
%make_build

%install
%make_install

%files -n %{name}1
%defattr(-,root,root)
%doc COPYING README
%_libdir/*lib*.so.*

%files devel
%defattr(-,root,root)
%doc COPYING README
%doc %_mandir/*
%_includedir/*
%_libdir/lib*.so
%_libdir/pkgconfig/*

%post -n %{name}1
%{run_ldconfig}

%postun -n %{name}1
%{run_ldconfig}

%changelog
* Wed Oct 4 2017 stefan.koch10@gmail.com
- using automake for build
* Tue May 5 2015 skoch@suse.de
- initial created spec file
